<div id="injected-content" >
<link id="normalize" rel="stylesheet" type="text/css" />
<link id="bootstrap" rel="stylesheet" type="text/css" />
<style>

	p {
		margin: 0px;
		line-height: 16px;
	}

	#injected-wrapper {
		background-color: rgba(255,100,100, 0.5);
		/*width: 300px;*/
		height: 100%;
		z-index: 100000;
		position: fixed;
		top: 0px;
		color: black;
		text-align: left;
		margin: 0px;
	}

	#tabControl {
		background-color: rgba(0,255,100, 0.8);
		width: 20px;
		height: 40px;
		position: relative;
		float: left;
		top: 65px;
		border-top-left-radius: 10px;
		border-bottom-left-radius: 10px;
		box-shadow: 1px 4px 20px black;
	}

	#arrow-icon {
		display: block;
		height: 20px;
		width: 20px;
		margin: auto;
		margin-top: 10px;
		margin-bottom: 10px;

	}

	#profile-icon {
		display: block;
		height: 25px;
		width: 25px;
		margin: auto;

	}

	#close-action {
		z-index: 10;
		position: absolute;
		right: 0px;
		top: 0px;
		margin: 5px;
	}

	#close-icon {
		height: 16px;
		width: 16px;
	}

	#home-action {
		z-index: 10;
		position: absolute;
		left: 0px;
		top: 0px;
		margin: 5px;
	}

	#home-icon {
		height: 16px;
		width: 16px;
	}

	#detailsPanel {
		width: 400px;
		height: inherit;
		background-color: rgba(255,255,255,0.9);
		position: relative;
		float: left;
	}

	#sidebar {
		padding-top: 10px;
		padding-left: 10px;
		padding-right: 10px;
		background-color: rgba(0,100,255, 0.8);
		position: relative;
		float: right;
		width: 240px;
		height: inherit;
		box-shadow: 1px 4px 20px black;
	}

	.show-sidebar {
		right: 0px;
	}

	.tuck-sidebar {
		right: -240px;
	}

	/*******************************************
	// Profile list view item Styles 
	//
	*******************************************/


	.profile {
		width: 100%;
		height: 48px;
		overflow: hidden;
		margin-bottom: 10px;
	}

	.isSelected {
		background-color: gray;
	}

	.profile img {
		width: 48px;
		height: 48px;
		position: relative;
		float: left;
		margin-right: 10px;
	}

	#dance-card-preview, .meetingspace {
		width: 100%;
		overflow: hidden;
		/*margin-bottom: 10px;*/
	}

	#dance-card-owner {
		width: inherit;
		text-align: center;
		color: black;
		margin-bottom: 10px;
	}

	#dance-card-owner a {
		color: black;
	}

	.dance-card-preview-img {
		position: relative;
		float: left;
		height: 36px;
		width: 36px;
		margin-right: 10px;
		margin-bottom: 10px;
		background-color: rgb(0,0,0);
	}

	.danceCardPreviewLast {
		margin-right: 0px;
	}

	.vertical-line {
		width: 100%;
		height: 1px;
		background-color: rgb(50,50, 50);
	}

	.hide {
		display: none;
	}

	.carousel-indicators {
		bottom: -5px;
	}

	/*******************************************
	// Messaging Styles 
	//
	*******************************************/

	#messages {
      width: 100%;
      height: 500px;
      background-color: rgba(255,255,255,0.5);
      margin-top: 10px;
      overflow: scroll;
    }

    #bottom {
    	position: absolute;
    	bottom: 0px;
    }

    #createMessage {
      background-color: black;
      position: absolute;
      bottom: 0px;
      margin: 0px;
    }

    .message {
      position: relative;
      padding: 5px;
      margin-bottom: 5px;
      width: 80%;
      border-radius: 10px;
    }

    .sent {
      float: right;
      background-color: green;
    }

    .received {
      float: left;
      background-color: yellow;
    }

    .timestamp {
      width: 100%;
      position: relative;
      float: left;
      text-align: center;
      margin-bottom: 5px;
    }

</style>

<div id="injected-wrapper" 
	 ng-class="{'show-sidebar': uiState.showSidebar, 'tuck-sidebar': !uiState.showSidebar}" 
	 ng-controller="uiCtrl">


	<div id="tabControl" ng-click="tabAction()">
		<img id="arrow-icon" src="" />
	</div>

	<div id="detailsPanel" ng-show="uiState.showDetailsPanel">
	 	<div ui-view="detailsPanel">
		</div>
	</div>

	<div id="sidebar">
		
		<div id="close-action">
			<img id="close-icon" />
		</div>

		<div id="home-action">
			<a ui-sref='main.profileList'><img id="home-icon" /></a>
		</div>

		<div ui-view="sidebar">
		</div>

	</div>
</div>

<script type="text/javascript">
	$(document).ready(function(){
		var normalizeCSS = chrome.extension.getURL("css/normalize.css");
		$("#normalize").attr("href", normalizeCSS);

		var bootstrapCSS = chrome.extension.getURL("lib/bootstrap-3.1.1-dist/css/bootstrap.min.css");
		$("#bootstrap").attr("href", bootstrapCSS);

		// arrowLeftIconURL = chrome.extension.getURL("icons/icon_22996/icon_22996.png");
		var arrowRightIconURL = chrome.extension.getURL("icons/icon_22997/icon_22997.png");
		 $("#arrow-icon").attr("src", arrowRightIconURL);

		var profileIconURL = chrome.extension.getURL("icons/icon_15724/icon_15724.png");
		$("#profile-icon").attr("src", profileIconURL);

		var closeIcon = chrome.extension.getURL("icons/icon_25798/icon_25798.png");
		$("#close-icon").attr("src", closeIcon);

		var homeIcon = chrome.extension.getURL("icons/icon_11757/icon_11757.png");
		$("#home-icon").attr("src", homeIcon);

	});

	//handles icon changes on tab (can't get angular to handle this)
	// $("#arrow-icon").click(function(){
	// 	console.log("clicked tab");
	// 	if($("#injected-wrapper").hasClass("show-sidebar")){
			
	// 		if($("#full-profile").hasClass("show")){
	// 			$("#arrow-icon").attr("src", arrowRightIconURL);
	// 		}
	// 		else{
	// 			$("#arrow-icon").attr("src", arrowLeftIconURL);
	// 		}
	// 	}
	// 	else {
	// 		$("#arrow-icon").attr("src", arrowRightIconURL);
	// 	}
	// });

	$("#close-icon").click(function(){
		chrome.runtime.sendMessage({type: "close-sidebar"}, function(response) {
		  console.log(response.sidebar);
		});
	});

</script>
</div>